(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"3c20":function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("e1b3"),n("a9ff");a(n("66fd"));var o=a(n("f136"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"42c8":function(t,e,n){"use strict";n.r(e);var a=n("81eb"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},6505:function(t,e,n){},"74f0":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"c6d8"))},tealog:function(){return n.e("components/tealog/tealog").then(n.bind(null,"e21b"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"f1fb"))},list:function(){return n.e("components/list/list").then(n.bind(null,"547f"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"8227"))}},o=function(){var t=this.$createElement,e=(this._self._c,this.data.length);this.$mp.data=Object.assign({},{$root:{g0:e}})},i=[]},"81eb":function(t,e,n){"use strict";(function(t,a){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2eee")),u=o(n("c973")),c=t.database(),s={data:function(){return{logdata:[],data:[],keyword:"豆乳玉麒麟",title:"产品",show:!1,type:"name",columns:[[{label:"产品",type:"name"},{label:"配料",type:"goods_desc"}]]}},onShow:function(){var t=a.getStorageSync("log");t.length?this.logdata=t:this.logdata=[]},methods:{setdata:function(){var t=this.logdata,e=(t.unshift(this.keyword),t.slice(0,3));console.log(e),this.logdata=e,a.setStorageSync("log",e)},cancel:function(){this.show=!1},clickIcon:function(){this.show=!0},change:function(t){this.title=t.value[0].label,this.type=t.value[0].type},confirm:function(t){this.show=!1,this.title=t.value[0].label,this.type=t.value[0].type},search:function(){this.keyword?(this.setdata(),this.getdata(this.type)):a.showToast({icon:"none",title:"请输入搜索内容",mask:!0,duration:900})},getdata:function(t){var e=this;return(0,u.default)(i.default.mark((function n(){var o,u;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("name"!=t){n.next=9;break}return n.next=3,c.collection("tea-milk-list").where("".concat(new RegExp(e.keyword,"gi"),".test(name) && state==true")).get();case 3:o=n.sent,console.log(o),o.result.data.length||a.showToast({icon:"none",title:"搜索内容不存在",mask:!0,duration:900}),e.data=o.result.data,n.next=14;break;case 9:return n.next=11,c.collection("tea-milk-list").where("".concat(new RegExp(e.keyword,"gi"),".test(goods_desc) && state==true")).get();case 11:u=n.sent,u.result.data.length||a.showToast({icon:"none",title:"搜索内容不存在",mask:!0,duration:900}),e.data=u.result.data;case 14:case"end":return n.stop()}}),n)})))()}}};e.default=s}).call(this,n("a9ff")["default"],n("543d")["default"])},edb0:function(t,e,n){"use strict";var a=n("6505"),o=n.n(a);o.a},f136:function(t,e,n){"use strict";n.r(e);var a=n("74f0"),o=n("42c8");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("edb0");var u=n("f0c5"),c=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=c.exports}},[["3c20","common/runtime","common/vendor"]]]);