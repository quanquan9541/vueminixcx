(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"3c20":function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("e1b3"),n("a9ff");a(n("66fd"));var o=a(n("f136"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"42c8":function(e,t,n){"use strict";n.r(t);var a=n("81eb"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},6505:function(e,t,n){},"6d41":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"c6d8"))},tealog:function(){return n.e("components/tealog/tealog").then(n.bind(null,"e21b"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"f1fb"))},list:function(){return n.e("components/list/list").then(n.bind(null,"547f"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"8227"))}},o=function(){var e=this.$createElement,t=(this._self._c,this.data.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},i=[]},"81eb":function(e,t,n){"use strict";(function(e,a){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("2eee")),u=o(n("c973")),r=n("9767"),c=e.database(),s={data:function(){return{logdata:[],data:[],keyword:"",title:"产品",show:!1,type:"name",columns:[[{label:"产品",type:"name"},{label:"配料",type:"goods_desc"}]]}},onShow:function(){var e=a.getStorageSync("log");if(!e.length)return this.logdata=[],void(this.keyword="豆乳玉麒麟");this.keyword=e[0]||"豆乳玉麒麟",this.logdata=e},methods:{setdata:function(){var e=this.logdata,t=(e.unshift(this.keyword),e.slice(0,3));console.log(t),this.logdata=t,a.setStorageSync("log",t)},cancel:function(){this.show=!1},clickIcon:function(){this.show=!0},change:function(e){this.title=e.value[0].label,this.type=e.value[0].type},confirm:function(e){this.show=!1,this.title=e.value[0].label,this.type=e.value[0].type},search:(0,r.antiShake)((function(){if(this.keyword){a.showLoading({title:"搜索中",mask:!0});var e=this.ptype();this.getdata(e)}else a.showToast({icon:"none",title:"请输入搜索内容",mask:!0,duration:900})})),ptype:function(){if("name"==this.type){var e={name:new RegExp(this.keyword,"gi"),state:!0};return e}var t={goods_desc:new RegExp(this.keyword,"gi"),state:!0};return t},getdata:function(e){var t=this;return(0,u.default)(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.collection("tea-milk-list").where(e).orderBy("create_date desc").get();case 2:if(o=n.sent,a.hideLoading(),o.result.data.length){n.next=6;break}return n.abrupt("return",a.showToast({icon:"none",title:"搜索内容不存在",mask:!0,duration:900}));case 6:t.data=o.result.data;case 7:case"end":return n.stop()}}),n)})))()}}};t.default=s}).call(this,n("a9ff")["default"],n("543d")["default"])},edb0:function(e,t,n){"use strict";var a=n("6505"),o=n.n(a);o.a},f136:function(e,t,n){"use strict";n.r(t);var a=n("6d41"),o=n("42c8");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("edb0");var u=n("f0c5"),r=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=r.exports}},[["3c20","common/runtime","common/vendor"]]]);