import{p as t,s as e,o as n,c as a,a as s,w as l,b as o,F as i,r as c,I as d,i as u,d as r,e as p,t as h}from"./index.4fc47999.js";var f=((t,e)=>{const n=t.__vccOpts||t;for(const[a,s]of e)n[a]=s;return n})({data:()=>({content:"",list:""}),onLoad(){t.callFunction({name:"fun",data:{api:"getmassage"}}).then((t=>{this.list=t.result.data}))},methods:{publish(){""==!this.content.trim()?(e({title:"留言成功",duration:1e3}),t.callFunction({name:"fun",data:{api:"publish",content:this.content}}).then((t=>{console.log(t),this.list.push({_id:t.result.id,content:this.content}),this.content=""}))):e({title:"请输入内容",duration:1e3})}}},[["render",function(t,e,f,m,_,b){const x=d,y=u,g=r;return n(),a(i,null,[s(g,{class:"content"},{default:l((()=>[s(x,{type:"text",class:"input",modelValue:_.content,"onUpdate:modelValue":e[0]||(e[0]=t=>_.content=t),placeholder:"留言板"},null,8,["modelValue"]),s(y,{type:"primary",onClick:b.publish,size:"mini"},{default:l((()=>[o("提交")])),_:1},8,["onClick"])])),_:1}),(n(!0),a(i,null,c(_.list,(t=>(n(),p(g,{key:t._id},{default:l((()=>[s(g,{class:"box"},{default:l((()=>[o(h(t.content),1)])),_:2},1024)])),_:2},1024)))),128))],64)}],["__scopeId","data-v-31310ed6"]]);export{f as default};
