{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?cedd","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?fc6b","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?f730","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?3a86","uni-app:///pages/MuserPhoneValue/add.vue","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?bb80","webpack:///C:/Users/20210408/Desktop/xcx/up/user/pages/MuserPhoneValue/add.vue?71a2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","result","data","formData","wer","subTitleColor","disabled","butext","formOptions","rules","getValidator","onLoad","uni","title","mask","onReady","computed","userInfo","hasLogin","sum","methods","getuserPhoneValue","db","getCount","getOne","setTimeout","change","changesubTitle","valuesum","submit","submitForm","icon","content","showCancel","submiteditForm","value","last_date"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAAsD;AACjH;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AACkL;AAClL,gBAAgB,gLAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,4WAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAA2qB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACgF/rB;AAGA;AAGA;AAAA;AACA;AACA;AAEA;EACA;EACA;IACA;MACAC;IACA;EACA;EACA;AACA;AAAA,eAEA;EACAC;IACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,EACA;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,EACA;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,EACA;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,EACA;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,EACA;QACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA,GACA;UACA;UACA;QACA;MAEA;MACAC,yBACAC;IAEA;EACA;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA,mFACA,2BACA,2BACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;kBACAC;kBACAC;gBACA;cAAA;gBAHAtB;gBAIAuB;kBACAb;kBACA;gBACA;gBACA;gBACA;kBACA;kBACA;gBAAA,CACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;IACAc;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MAAA;MACAjB;QACAE;MACA;MACA;QACA;MACA;QACAF;MACA;IACA;IAEA;AACA;AACA;IACAkB;MAAA;MACA;QACA;QACA;UACAlB;YACAmB;YACAlB;UACA;UACA;UACAY;YAAA;UAAA;QACA;UACAb;YACAoB;YACAC;UACA;QACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MAAA;MACA;MACA,qGACAC;QACAC;MAAA,GACA;QACAxB;UACAmB;UACAlB;QACA;QACA;QACAY;UAAA;QAAA;MACA;QACAb;UACAoB;UACAC;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxXA;AAAA;AAAA;AAAA;AAA49B,CAAgB,u3BAAG,EAAC,C;;;;;;;;;;;ACAh/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/MuserPhoneValue/add.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-cloud-stat.es.js';import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/MuserPhoneValue/add.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./add.vue?vue&type=template&id=e80350f8&\"\nvar renderjs\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/MuserPhoneValue/add.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=e80350f8&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniSection: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-section/components/uni-section/uni-section\" */ \"@/uni_modules/uni-section/components/uni-section/uni-section.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDataCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    },\n    uniDataPicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker\" */ \"@/uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker.vue\"\n      )\n    },\n    uSlider: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-slider/u-slider\" */ \"@/uni_modules/uview-ui/components/u-slider/u-slider.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"uni-container\">\r\n    <uni-forms ref=\"form\" :model=\"formData\" validate-trigger=\"submit\" err-show-type=\"toast\" label-position=\"top\">\r\n      <uni-section title=\"基础信息\" type=\"line\">\r\n        <uni-forms-item name=\"age\" label=\"年龄\">\r\n          <uni-easyinput placeholder=\"请输您的年龄\" type=\"number\" v-model=\"formData.age\"></uni-easyinput>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"sex\" label=\"性别\">\r\n          <uni-data-checkbox v-model=\"formData.sex\" :localdata=\"formOptions.sex_localdata\"></uni-data-checkbox>\r\n        </uni-forms-item>\r\n      </uni-section>\r\n      <uni-section title=\"手机相关\" type=\"line\" sub-title=\"请输入目前在用手机的基础信息\">\r\n        <uni-forms-item name=\"phonebrand\" label=\"品牌\">\r\n          <uni-data-picker v-model=\"formData.phonebrand\" placeholder=\"请选择当前手机品牌\" popup-title=\"请选择当前在用手机品牌\" :where=\"wer\"\r\n            collection=\"Manufacturer_brand\" field=\"_id as value, name as text\"></uni-data-picker>\r\n        </uni-forms-item>\r\n        <uni-section type=\"line\" title=\"你认为品牌会影响你购买手机吗？\">\r\n          <uni-forms-item name=\"isbrand\">\r\n            <uni-data-checkbox v-model=\"formData.isbrand\"\r\n              :localdata=\"formOptions.isbrand_localdata\"></uni-data-checkbox>\r\n          </uni-forms-item>\r\n        </uni-section>\r\n        <uni-forms-item name=\"ram\" label=\"内存\">\r\n          <uni-data-checkbox v-model=\"formData.ram\" :localdata=\"formOptions.ram_localdata\"></uni-data-checkbox>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"rom\" label=\"闪存\">\r\n          <uni-data-checkbox v-model=\"formData.rom\" :localdata=\"formOptions.rom_localdata\"></uni-data-checkbox>\r\n        </uni-forms-item>\r\n      </uni-section>\r\n\r\n      <uni-section title=\"预算相关\" type=\"line\" sub-title=\"你认为目前手机价格偏贵吗？\">\r\n        <uni-forms-item name=\"ismoney\">\r\n          <uni-data-checkbox v-model=\"formData.ismoney\" :localdata=\"formOptions.ismoney_localdata\"></uni-data-checkbox>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"moneymaxjiag\" label=\"预算\">\r\n          <uni-easyinput placeholder=\"请输入手机预算\" type=\"number\" v-model=\"formData.moneymaxjiag\"></uni-easyinput>\r\n        </uni-forms-item>\r\n      </uni-section>\r\n\r\n      <uni-section title=\"请选择你认为最影响你选购的因素\" type=\"line\" sub-title=\"选择1项\">\r\n        <uni-forms-item name=\"import\">\r\n          <uni-data-checkbox v-model=\"formData.import\" :localdata=\"formOptions.import_localdata\"></uni-data-checkbox>\r\n        </uni-forms-item>\r\n      </uni-section>\r\n      <uni-section title=\"请对以下6个维度进行打分\" type=\"line\" :sub-title=\"'总分100,当前累计'+sum+'分'\" :subTitleColor=\"subTitleColor\">\r\n        <uni-forms-item name=\"screenv\" label=\"显示\">\r\n          <text class=\"text\">屏幕显示效果相关方面</text>\r\n          <u-slider v-model=\"formData.screenv\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"camerav\" label=\"影像\">\r\n          <text class=\"text\">拍照影像相关\r\n          </text>\r\n          <u-slider v-model=\"formData.camerav\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"fastchargev\" label=\"快充\">\r\n          <text class=\"text\">充电速度</text>\r\n          <u-slider v-model=\"formData.fastchargev\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"endurancev\" label=\"续航\">\r\n          <text class=\"text\">手机续航(目前很难量化，主要参考电池容量)</text>\r\n          <u-slider v-model=\"formData.endurancev\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"lightthinv\" label=\"轻薄\">\r\n          <text class=\"text\">尺寸和重量相关</text>\r\n          <u-slider v-model=\"formData.lightthinv\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n        <uni-forms-item name=\"performancev\" label=\"性能\">\r\n          <text class=\"text\">手机性能</text>\r\n          <u-slider v-model=\"formData.performancev\" :showValue=\"true\" min=\"1\" max=\"95\" @change=\"change\"></u-slider>\r\n        </uni-forms-item>\r\n      </uni-section>\r\n\r\n      <view class=\"uni-button-group\">\r\n        <button :disabled=\"disabled\" type=\"primary\" class=\"uni-button\" @click=\"submit\">提交</button>\r\n      </view>\r\n    </uni-forms>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    validator\r\n  } from '../../js_sdk/validator/MuserPhoneValue.js';\r\n  import {\r\n    store,\r\n    mutations\r\n  } from '@/uni_modules/uni-id-pages/common/store.js';\r\n  const db = uniCloud.database();\r\n  const dbCollectionName = 'MuserPhoneValue';\r\n\r\n  function getValidator(fields) {\r\n    let result = {}\r\n    for (let key in validator) {\r\n      if (fields.indexOf(key) > -1) {\r\n        result[key] = validator[key]\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      let formData = {\r\n        \"age\": null,\r\n        \"sex\": null,\r\n        \"ram\": null,\r\n        \"rom\": null,\r\n        \"phonebrand\": null,\r\n        \"isbrand\": null,\r\n        \"moneymaxjiag\": null,\r\n        \"ismoney\": null,\r\n        \"import\": [],\r\n        \"screenv\": 1,\r\n        \"camerav\": 1,\r\n        \"fastchargev\": 1,\r\n        \"endurancev\": 1,\r\n        \"lightthinv\": 1,\r\n        \"performancev\": 1\r\n      }\r\n      return {\r\n        formData,\r\n        wer: \"type==1 && status==true\", //级联选择器条件\r\n        subTitleColor: \"#999\", //标签栏字体颜色\r\n        disabled: true, //按钮锁定\r\n        butext: \"提交\", // 按钮文字\r\n        formOptions: {\r\n          \"sex_localdata\": [{\r\n              \"text\": \"女\",\r\n              \"value\": 0\r\n            },\r\n            {\r\n              \"text\": \"男\",\r\n              \"value\": 1\r\n            }\r\n          ],\r\n          \"ram_localdata\": [{\r\n              \"value\": 4,\r\n              \"text\": 4\r\n            },\r\n            {\r\n              \"value\": 6,\r\n              \"text\": 6\r\n            },\r\n            {\r\n              \"value\": 8,\r\n              \"text\": 8\r\n            },\r\n            {\r\n              \"value\": 12,\r\n              \"text\": 12\r\n            },\r\n            {\r\n              \"value\": 16,\r\n              \"text\": 16\r\n            },\r\n            {\r\n              \"value\": 18,\r\n              \"text\": 18\r\n            },\r\n            {\r\n              \"value\": \"其他\",\r\n              \"text\": \"其他\"\r\n            }\r\n          ],\r\n          \"rom_localdata\": [{\r\n              \"value\": 32,\r\n              \"text\": 32\r\n            },\r\n            {\r\n              \"value\": 64,\r\n              \"text\": 64\r\n            },\r\n            {\r\n              \"value\": 128,\r\n              \"text\": 128\r\n            },\r\n            {\r\n              \"value\": 256,\r\n              \"text\": 256\r\n            },\r\n            {\r\n              \"value\": 512,\r\n              \"text\": 512\r\n            },\r\n            {\r\n              \"value\": 1024,\r\n              \"text\": 1024\r\n            },\r\n            {\r\n              \"value\": \"其他\",\r\n              \"text\": \"其他\"\r\n            }\r\n          ],\r\n          \"isbrand_localdata\": [{\r\n              \"text\": \"无影响\",\r\n              \"value\": 0\r\n            },\r\n            {\r\n              \"text\": \"有影响\",\r\n              \"value\": 1\r\n            }\r\n          ],\r\n          \"ismoney_localdata\": [{\r\n              \"text\": \"贵\",\r\n              \"value\": 0\r\n            },\r\n            {\r\n              \"text\": \"不贵\",\r\n              \"value\": 1\r\n            }\r\n          ],\r\n          \"import_localdata\": [{\r\n              \"value\": \"屏幕显示效果\",\r\n              \"text\": \"屏幕显示效果\"\r\n            },\r\n            {\r\n              \"value\": \"影像(拍照)\",\r\n              \"text\": \"影像(拍照)\"\r\n            },\r\n            {\r\n              \"value\": \"充电速度\",\r\n              \"text\": \"充电速度\"\r\n            },\r\n            {\r\n              \"value\": \"续航/电池容量\",\r\n              \"text\": \"续航/电池容量\"\r\n            },\r\n            {\r\n              \"value\": \"重量/尺寸\",\r\n              \"text\": \"重量/尺寸\"\r\n            },\r\n            {\r\n              \"value\": \"性能\",\r\n              \"text\": \"性能\"\r\n            }\r\n          ]\r\n        },\r\n        rules: {\r\n          ...getValidator(Object.keys(formData))\r\n        }\r\n      }\r\n    },\r\n    onLoad() {\r\n      // console.log('load', this.userInfo);\r\n      uni.showLoading({\r\n        title: '加载中',\r\n        mask: true\r\n      });\r\n      this.getuserPhoneValue(this.userInfo._id)\r\n    },\r\n    onReady() {\r\n      this.$refs.form.setRules(this.rules)\r\n    },\r\n    computed: {\r\n      userInfo() {\r\n        return store.userInfo;\r\n      },\r\n      hasLogin() {\r\n        return store.hasLogin;\r\n      },\r\n      sum() {\r\n        return this.formData.screenv + this.formData.camerav + this.formData.fastchargev +\r\n          this.formData.endurancev +\r\n          this.formData.lightthinv +\r\n          this.formData.performancev\r\n      }\r\n    },\r\n    methods: {\r\n      //获取云端数据\r\n      async getuserPhoneValue(e) {\r\n        let data = await db.collection('MuserPhoneValue').where(`user_id=='${e}'`).get({\r\n          getCount: true,\r\n          getOne: true\r\n        })\r\n        setTimeout(() => {\r\n          uni.hideLoading();\r\n          this.changesubTitle();\r\n        }, 800);\r\n        // console.log('云数据', data);\r\n        if (!data.result.count) {\r\n          // this.formData = formData\r\n          // console.log('0', this.formData);\r\n        } else {\r\n          this.formData = data.result.data\r\n          // console.log(\"1\");\r\n        }\r\n      },\r\n      /**\r\n       * @param {Object} e 滚动条数值\r\n       */\r\n      change(e) {\r\n        // console.log(e);\r\n        this.changesubTitle()\r\n      },\r\n      //副标题操作\r\n      changesubTitle() {\r\n        let log = this.valuesum()\r\n        if (!log) {\r\n          this.subTitleColor = \"#FFB94C\"\r\n          this.disabled = false\r\n          return\r\n        } else {\r\n          // console.log(log);\r\n          this.disabled = true\r\n          this.subTitleColor = log\r\n        }\r\n      },\r\n      //数据校验\r\n      valuesum() {\r\n        if (this.sum == 100) return false\r\n        if (this.sum < 100) {\r\n          return \"blue\"\r\n        } else {\r\n          return \"red\"\r\n        }\r\n      },\r\n      /**\r\n       * 验证表单并提交\r\n       */\r\n      submit() {\r\n        uni.showLoading({\r\n          mask: true\r\n        })\r\n        this.$refs.form.validate().then((res) => {\r\n          return this.submitForm(res)\r\n        }).catch(() => {}).finally(() => {\r\n          uni.hideLoading()\r\n        })\r\n      },\r\n\r\n      /**\r\n       * 提交表单\r\n       */\r\n      submitForm(value) {\r\n        if (!this.formData._id) {\r\n          // 使用 clientDB 提交数据\r\n          return db.collection(dbCollectionName).add(value).then((res) => {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '新增成功'\r\n            })\r\n            this.getOpenerEventChannel().emit('refreshData')\r\n            setTimeout(() => uni.navigateBack(), 500)\r\n          }).catch((err) => {\r\n            uni.showModal({\r\n              content: err.message || '请求服务失败',\r\n              showCancel: false\r\n            })\r\n          })\r\n        } else {\r\n          this.submiteditForm(value)\r\n        }\r\n      },\r\n      /**\r\n       * 修改表单\r\n       */\r\n      submiteditForm(value) {\r\n        // 使用 clientDB 提交数据\r\n        return db.collection(dbCollectionName).doc(this.formData._id).update({\r\n          ...value,\r\n          last_date: Date.now()\r\n        }).then((res) => {\r\n          uni.showToast({\r\n            icon: 'none',\r\n            title: '修改成功'\r\n          })\r\n          this.getOpenerEventChannel().emit('refreshData')\r\n          setTimeout(() => uni.navigateBack(), 500)\r\n        }).catch((err) => {\r\n          uni.showModal({\r\n            content: err.message || '请求服务失败',\r\n            showCancel: false\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-container {\r\n    padding: 15px;\r\n  }\r\n\r\n  .uni-input-border,\r\n  .uni-textarea-border {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    color: #666;\r\n    border: 1px #e5e5e5 solid;\r\n    border-radius: 5px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .uni-input-border {\r\n    padding: 0 10px;\r\n    height: 35px;\r\n\r\n  }\r\n\r\n  .uni-textarea-border {\r\n    padding: 10px;\r\n    height: 80px;\r\n  }\r\n\r\n  .uni-button-group {\r\n    margin-top: 50px;\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    justify-content: center;\r\n  }\r\n\r\n  .uni-button {\r\n    width: 184px;\r\n  }\r\n\r\n  .text {\r\n    font-size: 18rpx;\r\n    color: #a3a3a3;\r\n  }\r\n</style>","import mod from \"-!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../yl/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682869300237\n      var cssReload = require(\"C:/yl/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}